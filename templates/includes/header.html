<!DOCTYPE html>
<html lang="fr">
<head>

    {% load static %}

    <meta charset="utf-8">
    <meta name="google-site-verification" content="tWOEM_g9-lB_hXbgHVWrOMOlrSeEwfGwi3yKTj1jY0s" />
    <meta name="robots" content="noindex">

    <title>{{title}} {% if halId_s != 'nullNone' and title != "Aide" and title != "Index des chercheurs" and title != "Présentation" and title != "Nous contacter" and title != "Recherche" and title != "Index des laboratoires" and title != "Aucune ressource sélectionnée"  and title != "Foire aux questions" and title != "Nous contacter" and title != "Ressources" and title != "Outils & services" %}:{%  endif %} {% if entity.ldapId %}
        {{ entity.firstName|make_list|first }}. {{ entity.lastName }}
    {%  endif %}
        {% if entity.halStructId %}
            {{ entity.acronym }}
        {%  endif %}</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">

    <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.css">
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.js"></script>

    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.flash.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.print.min.js"></script>

    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/plug-ins/1.10.22/features/scrollResize/dataTables.scrollResize.min.js"></script>

    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"></script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>
    <script type='text/x-mathjax-config'>MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['$$','$$']]}});</script>

    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static "styles/main.css" %}">

</head>

<body>

{% if export != True %}

    <div class="flex h-screen">

        <div class="flex flex-col w-full">

            <div class="flex h-12 w-full bg-gray-700 flex-shrink-0">

                <div class="w-24 flex items-center pl-2 text-gray-400 text-sm font-semibold">
                </div>

                <div class="flex w-full justify-between relative">

                    <div class="flex items-center text-xs text-gray-200 pl-4">
                        {{ title }}
                        {% if halId_s != 'nullNone' and title != "Aide" and title != "Index des chercheurs" and title != "Présentation" and title != "Nous contacter" and title != "Recherche" and title != "Index des laboratoires" and title != "Aucune ressource sélectionnée" and title != "Foire aux questions"  and title != "Nous contacter" and title != "Ressources" and title != "Outils & services"%}
                            <svg class="fill-current w-3 h-3 ml-1 mr-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                            </svg>
                        {%  endif %}
                        {% if entity.ldapId %}
                            <span class="font-semibold">{{ entity.firstName|make_list|first }}. {{ entity.lastName }}</span>
                        {%  endif %}
                        {% if entity.halStructId %}
                            <span class="font-semibold">{{ entity.acronym }}</span>
                        {%  endif %}
                    </div>

                    {% if halId_s != 'nullNone' and title != "Expertise" and title != "Aide" and title != "Index des chercheurs" and title != "Terminologie" and title != "Index des laboratoires" and title != "Aucune ressource sélectionnée"  and title != "Foire aux questions" and title != "Nous contacter" and title != "Ressources" and title != "Outils & services" and title != "Vérification des données" %}

                        <div class="flex items-center mr-6 text-gray-200 text-xs relative h-full"

                             x-data="{
                                open: false,
                                toggle() {
                                    if (this.open) {
                                        return this.close()
                                    }

                                    this.$refs.button.focus()

                                    this.open = true
                                },
                                close(focusAfter) {
                                    if (! this.open) return

                                    this.open = false

                                    focusAfter && focusAfter.focus()
                                }
                            }"
                             x-on:keydown.escape.prevent.stop="close($refs.button)"
                             x-on:focusin.window="! $refs.panel.contains($event.target) && close()"
                             x-id="['dropdown-button']"
                        >


                            <button x-ref="button"
                                    x-on:click="toggle()"
                                    :aria-expanded="open"
                                    :aria-controls="$id('dropdown-button')"
                                    type="button"
                                    class="flex h-full items-center box-border">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                    <path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z" clip-rule="evenodd" />
                                </svg>
                                <span class="font-semibold">Filtrage</span>

                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>

                            <div
                                    x-ref="panel"
                                    x-show="open"
                                    x-transition.duration.0ms
                                    x-transition.origin.top.right
                                    x-on:click.outside="close($refs.button)"
                                    :id="$id('dropdown-button')"
                                    style="display: none;"
                                    class="absolute right-0 top-0 mt-12 bg-gray-500 w-52 shadow-md overflow-hidden z-40 rounded-b box-border text-gray-50">

                                <div>
                                    <div class="px-4 py-2">
                                        <span class="mb-1 flex font-semibold">Période de soumission (HAL) :</span>
                                        <div>
                                            <select id="sel-from" class="bg-gray-100 text-gray-800 border-0 px-1 py-0">
                                                <option value="2000">2000</option>
                                                <option value="2001">2001</option>
                                                <option value="2002">2002</option>
                                                <option value="2003">2003</option>
                                                <option value="2004">2004</option>
                                                <option value="2005">2005</option>
                                                <option value="2006">2006</option>
                                                <option value="2007">2007</option>
                                                <option value="2008">2008</option>
                                                <option value="2009">2009</option>
                                                <option value="2010">2010</option>
                                                <option value="2011">2011</option>
                                                <option value="2012">2012</option>
                                                <option value="2013">2013</option>
                                                <option value="2014">2014</option>
                                                <option value="2015">2015</option>
                                                <option value="2016">2016</option>
                                                <option value="2017">2017</option>
                                                <option value="2018">2018</option>
                                                <option value="2019">2019</option>
                                                <option value="2020">2020</option>
                                                <option value="2021">2021</option>
                                                <option value="2022">2022</option>
                                                <option value="2023">2023</option>
                                            </select>
                                            à
                                            <select id="sel-to" class="bg-gray-100 text-gray-800 border-0 px-1 py-0">
                                                <option value="2000">2000</option>
                                                <option value="2001">2001</option>
                                                <option value="2002">2002</option>
                                                <option value="2003">2003</option>
                                                <option value="2004">2004</option>
                                                <option value="2005">2005</option>
                                                <option value="2006">2006</option>
                                                <option value="2007">2007</option>
                                                <option value="2008">2008</option>
                                                <option value="2009">2009</option>
                                                <option value="2010">2010</option>
                                                <option value="2011">2011</option>
                                                <option value="2012">2012</option>
                                                <option value="2013">2013</option>
                                                <option value="2014">2014</option>
                                                <option value="2015">2015</option>
                                                <option value="2016">2016</option>
                                                <option value="2017">2017</option>
                                                <option value="2018">2018</option>
                                                <option value="2019">2019</option>
                                                <option value="2020">2020</option>
                                                <option value="2021">2021</option>
                                                <option value="2022">2022</option>
                                                <option value="2023">2023</option>
                                            </select>
                                        </div>
                                        <span class="mb-1 mt-2 flex font-semibold">Langue des documents :</span>
                                        <div>
                                            <select id="sel-lang" class="bg-gray-100 text-gray-800 border-0 px-1 py-0">
                                                <option value="all">Tous</option>
                                                <option value="FR">FR</option>
                                                <option value="EN">EN</option>
                                            </select>
                                        </div>
                                    </div>
                                    <button id="update-filters" class="mt-2 flex w-full bg-gray-600 py-2 text-gray-200 items-center justify-center rounded-b font-semibold">Mettre à jour</button>
                                </div>



                            </div>


                        </div>

                    {%  endif %}


                    <div class="hidden startDate">{{ startDate }}</div>


                </div>


            </div>

            {% if halId_s != 'nullNone' and title != "Expertise" and title != "Aide" and title != "Index des chercheurs" and title != "Terminologie" and title != "Index des laboratoires" and title != "Aucune ressource sélectionnée"  and title != "Foire aux questions" and title != "Nous contacter" and title != "Ressources" and title != "Outils & services" and title != "Vérification des données" %}

            <script>
                var getUrlParameter = function getUrlParameter(sParam) {
                    var sPageURL = window.location.search.substring(1),
                        sURLVariables = sPageURL.split('&'),
                        sParameterName,
                        i;

                    for (i = 0; i < sURLVariables.length; i++) {
                        sParameterName = sURLVariables[i].split('=');

                        if (sParameterName[0] === sParam) {
                            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
                        }
                    }
                };


                function updateFilters(start, end, lang) {
                    if (getUrlParameter('filter') != undefined) {
                        filter_cond = "&filter=" + getUrlParameter('filter');
                    } else {
                        filter_cond = "";
                    }
                    if (getUrlParameter('ldapid') != undefined) {
                        ldapid_cond = "&ldapid=" + getUrlParameter('ldapid');
                    } else {
                        ldapid_cond = "";
                    }
                    window.location.href = "/" + document.URL.split("/")[3] + "/?struct="+ getUrlParameter('struct') +"&type=" + getUrlParameter('type') + "&id=" + getUrlParameter('id') + ldapid_cond + filter_cond + "&from=" + start + "&to=" + end + "&lang=" + lang;
                }

                var sel_from = getUrlParameter('from').split('-')[0];
                var sel_to = getUrlParameter('to').split('-')[0];
                var sel_lang = getUrlParameter('lang');

                if (getUrlParameter('lang') == undefined) {
                    sel_lang = "all";
                }

                document.getElementById("sel-from").value = sel_from;
                document.getElementById("sel-to").value = sel_to;
                document.getElementById("sel-lang").value = sel_lang;

                document.getElementById("sel-from").addEventListener('change', function() {
                    sel_from = this.value;
                });
                document.getElementById("sel-to").addEventListener('change', function() {
                    sel_to = this.value;
                });
                document.getElementById("sel-lang").addEventListener('change', function() {
                    sel_lang = this.value;
                });

                document.getElementById("update-filters").addEventListener('click', function() {
                    updateFilters(sel_from + "-01-01", sel_to + "-01-01", sel_lang);
                });

                $(id="dashkib").ready(function() {
                        $('.kbnTopNavMenu__wrapper').css('display', 'none');
                        $('#kbnPresentationToolbar__solutionToolbar').css('display', 'none');
                    });


            </script>

            {% endif %}

{%  endif %}

